---
title: GraphQL Support
date: "2015-05-01T22:12:03.284Z"
description: GraphQL Support
useReact: true
---

This post has its `pre` blocks replaced by interactive React components whose data is sourced from GraphQL nodes generated by gatsby-remark-vscode.

The example React component looks like this. Click a token to interact with it:

```jsx
function CoolCodeBlock(props) {
  const [isRotating, setIsRotating] = useState({});
  const codeBlock = (useContext(CodeBlockContext) || [])[+props["data-index"]];
  return codeBlock ? (
    <pre className={codeBlock.preClassName}>
      <code className={codeBlock.codeClassName}>
        {codeBlock.lines.map(({ tokens, className }, i) => (
          <div key={i} className={className} style={{ display: 'block' }}>
            {tokens.map(({ startIndex, text, className }) => (
              <span
                className={[
                  className,
                  isRotating[`${i}/${startIndex}`] ? 'rotating' : ''
                ].join(' ')}
                key={startIndex}
                onClick={() => setIsRotating({
                  ...isRotating,
                  [`${i}/${startIndex}`]: !isRotating[`${i}/${startIndex}`],
                })}
                style={{
                  cursor: 'pointer',
                  animationDuration: `${text.length * 80}ms`,
                }}
              >
                {text}
              </span>
            ))}
          </div>
        ))}
      </code>
    </pre>
  ) : null;
}
```
